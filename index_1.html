<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Invoice Generator | H.M.C. Traders</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Loading Overlay -->
        <div class="loading-overlay hidden" id="loadingOverlay">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p class="loading-text">Generating PDF...</p>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div class="toast-container" id="toastContainer"></div>

        <!-- Action Bar -->
        <div class="action-bar">
            <div class="action-buttons">
                <button class="btn btn--primary" onclick="generatePDF()" id="pdfBtn">
                    <span class="btn-icon">üìÑ</span>
                    Download PDF
                </button>
                <button class="btn btn--secondary" onclick="printInvoice()" id="printBtn">
                    <span class="btn-icon">üñ®Ô∏è</span>
                    Print
                </button>
                <button class="btn btn--outline" onclick="saveInvoice()" id="saveBtn">
                    <span class="btn-icon">üíæ</span>
                    Save
                </button>
                <button class="btn btn--outline" onclick="resetForm()" id="resetBtn">
                    <span class="btn-icon">üîÑ</span>
                    Reset
                </button>
            </div>
            <div class="auto-save-indicator" id="autoSaveIndicator">
                <span class="indicator-dot"></span>
                <span class="indicator-text">Auto-saved</span>
            </div>
        </div>

        <!-- Invoice Container -->
        <div class="invoice-container" id="invoiceContainer">
            <!-- Header Section -->
            <header class="invoice-header">
                <div class="header-content">
                    <div class="company-branding">
                        <div class="logo-section">
                            <div class="company-logo">üè¢</div>
                        </div>
                        <div class="company-details">
                            <h1 class="company-name">H.M.C. TRADERS</h1>
                            <p class="company-tagline">Ginger Merchants</p>
                            <div class="company-info">
                                <p>Annavatti to Shivamogga Main Road</p>
                                <p>CHIKKAIDAGODU-577413 Soraba Tq</p>
                                <div class="contact-info">
                                    <span><strong>GSTIN:</strong> 29CYPPS9466P1ZS</span>
                                    <span><strong>Phone:</strong> 9972987867, 9740459661</span>
                                    <span><strong>Email:</strong> sadiqhmc83@gmail.com</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="invoice-title-section">
                        <h2 class="invoice-title">TAX INVOICE</h2>
                        <div class="invoice-badge">
                            <span id="invoiceTypeDisplay">CASH BILL</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Invoice Details Section -->
            <section class="invoice-details-section">
                <div class="details-grid">
                    <div class="detail-card">
                        <h3 class="card-title">
                            <span class="title-icon">üìã</span>
                            Invoice Details
                        </h3>
                        <div class="form-fields">
                            <div class="form-group">
                                <label class="form-label">Invoice Type</label>
                                <select class="form-control" id="invoiceType" onchange="updateInvoiceTypeDisplay()">
                                    <option value="CASH">CASH BILL</option>
                                    <option value="CREDIT">CREDIT BILL</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Invoice Number</label>
                                <input type="text" class="form-control" id="invoiceNumber" value="HMC-1001" readonly>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Invoice Date *</label>
                                <input type="date" class="form-control" id="invoiceDate" required>
                            </div>
                        </div>
                    </div>

                    <div class="detail-card">
                        <h3 class="card-title">
                            <span class="title-icon">üöõ</span>
                            Transport Details
                        </h3>
                        <div class="form-fields">
                            <div class="form-group">
                                <label class="form-label">Transportation Mode</label>
                                <input type="text" class="form-control" id="transportMode" placeholder="Road/Rail/Air">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Vehicle Number</label>
                                <input type="text" class="form-control" id="vehicleNumber" placeholder="KA-20-AB-1234">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Date of Supply</label>
                                <input type="date" class="form-control" id="supplyDate">
                            </div>
                        </div>
                    </div>

                    <div class="detail-card">
                        <h3 class="card-title">
                            <span class="title-icon">üìç</span>
                            Supply Information
                        </h3>
                        <div class="form-fields">
                            <div class="form-group">
                                <label class="form-label">State</label>
                                <input type="text" class="form-control" value="Karnataka : 29" readonly>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Place of Supply</label>
                                <input type="text" class="form-control" id="placeOfSupply" placeholder="City, State">
                            </div>
                            <div class="form-group">
                                <label class="form-label">E-Way Bill No</label>
                                <input type="text" class="form-control" id="eWayBill" placeholder="Optional">
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Customer Section -->
            <section class="customer-section">
                <div class="customer-card">
                    <h3 class="card-title">
                        <span class="title-icon">üë§</span>
                        Bill To
                    </h3>
                    <div class="customer-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Customer Name *</label>
                                <input type="text" class="form-control" id="customerName" placeholder="Enter customer name" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Customer GSTIN</label>
                                <input type="text" class="form-control" id="customerGSTIN" placeholder="Optional">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Customer Address</label>
                            <textarea class="form-control" id="customerAddress" rows="3" placeholder="Enter customer address"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Customer State</label>
                                <select class="form-control" id="customerState">
                                    <option value="">Select State</option>
                                    <option value="29">Karnataka</option>
                                    <option value="27">Maharashtra</option>
                                    <option value="33">Tamil Nadu</option>
                                    <option value="32">Kerala</option>
                                    <option value="36">Telangana</option>
                                    <option value="37">Andhra Pradesh</option>
                                    <option value="24">Gujarat</option>
                                    <option value="08">Rajasthan</option>
                                    <option value="09">Uttar Pradesh</option>
                                    <option value="19">West Bengal</option>
                                    <option value="06">Haryana</option>
                                    <option value="03">Punjab</option>
                                    <option value="07">Delhi</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">State Code</label>
                                <input type="text" class="form-control" id="customerStateCode" readonly placeholder="Auto-filled">
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Items Section -->
            <section class="items-section">
                <div class="items-header">
                    <h3 class="card-title">
                        <span class="title-icon">üì¶</span>
                        Items & Services
                    </h3>
                    <button class="btn btn--sm btn--primary" onclick="addNewItem()">
                        <span class="btn-icon">‚ûï</span>
                        Add Item
                    </button>
                </div>
                
                <div class="table-wrapper">
                    <div class="table-container">
                        <table class="items-table" id="itemsTable">
                            <thead>
                                <tr>
                                    <th class="col-sno">S.No</th>
                                    <th class="col-description">Particulars/Description</th>
                                    <th class="col-hsn">HSN Code</th>
                                    <th class="col-tax">Tax %</th>
                                    <th class="col-qty">Qty</th>
                                    <th class="col-rate">Rate (‚Çπ)</th>
                                    <th class="col-amount">Amount (‚Çπ)</th>
                                    <th class="col-action no-print">Action</th>
                                </tr>
                            </thead>
                            <tbody id="itemsTableBody">
                                <tr class="item-row" data-row="1">
                                    <td class="serial-number">1</td>
                                    <td>
                                        <input type="text" class="form-control item-description" placeholder="Enter item description" list="productsList">
                                        <datalist id="productsList">
                                            <option value="Fresh Ginger">
                                            <option value="Dry Ginger">
                                            <option value="Ginger Powder">
                                            <option value="Processed Ginger">
                                            <option value="Organic Ginger">
                                        </datalist>
                                    </td>
                                    <td>
                                        <select class="form-control item-hsn">
                                            <option value="">Select HSN</option>
                                            <option value="0910.11">0910.11 - Ginger (Fresh)</option>
                                            <option value="0910.12">0910.12 - Ginger (Processed)</option>
                                            <option value="2008.99">2008.99 - Preserved Fruits</option>
                                        </select>
                                    </td>
                                    <td>
                                        <select class="form-control item-tax">
                                            <option value="0">0%</option>
                                            <option value="5">5%</option>
                                            <option value="12">12%</option>
                                            <option value="18">18%</option>
                                            <option value="28">28%</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control item-quantity" min="0" step="0.01" placeholder="0">
                                    </td>
                                    <td>
                                        <input type="number" class="form-control item-rate" min="0" step="0.01" placeholder="0.00">
                                    </td>
                                    <td class="item-amount">‚Çπ0.00</td>
                                    <td class="no-print">
                                        <button type="button" class="btn-remove" onclick="removeItem(1)" title="Remove Item">
                                            <span>üóëÔ∏è</span>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Calculations Section -->
            <section class="calculations-section">
                <div class="calculations-wrapper">
                    <div class="calculations-card">
                        <h3 class="calc-title">Invoice Summary</h3>
                        <div class="calc-rows">
                            <div class="calc-row">
                                <span class="calc-label">Net Amount:</span>
                                <span class="calc-value" id="netAmount">‚Çπ0.00</span>
                            </div>
                            <div class="calc-row tax-row" id="cgstRow" style="display: none;">
                                <span class="calc-label">CGST @ <span id="cgstPercent">0</span>%:</span>
                                <span class="calc-value" id="cgstAmount">‚Çπ0.00</span>
                            </div>
                            <div class="calc-row tax-row" id="sgstRow" style="display: none;">
                                <span class="calc-label">SGST @ <span id="sgstPercent">0</span>%:</span>
                                <span class="calc-value" id="sgstAmount">‚Çπ0.00</span>
                            </div>
                            <div class="calc-row tax-row" id="igstRow" style="display: none;">
                                <span class="calc-label">IGST @ <span id="igstPercent">0</span>%:</span>
                                <span class="calc-value" id="igstAmount">‚Çπ0.00</span>
                            </div>
                            <div class="calc-row grand-total-row">
                                <span class="calc-label">Grand Total:</span>
                                <span class="calc-value grand-total-value" id="grandTotal">‚Çπ0.00</span>
                            </div>
                        </div>
                        <div class="amount-words-section">
                            <p class="amount-words-label">Amount in Words:</p>
                            <p class="amount-words-value" id="amountInWords">Zero Rupees Only</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Terms Section -->
            <section class="terms-section">
                <div class="terms-card">
                    <h3 class="card-title">
                        <span class="title-icon">üìù</span>
                        Terms & Conditions
                    </h3>
                    <ul class="terms-list">
                        <li>Good once sold cannot be taken back or exchanged</li>
                        <li>If bill is not cleared within 30 days, 2% interest will be charged</li>
                    </ul>
                </div>
            </section>

            <!-- Signature Section -->
            <section class="signature-section">
                <div class="signatures-wrapper">
                    <div class="signature-box">
                        <div class="signature-area">
                            <p class="signature-label">Customer Signature</p>
                            <div class="signature-line"></div>
                        </div>
                    </div>
                    <div class="signature-box">
                        <div class="company-stamp">
                            <p class="stamp-text">Company Seal</p>
                            <div class="stamp-area"></div>
                        </div>
                        <div class="signature-area">
                            <p class="signature-label">Authorized Signatory</p>
                            <div class="signature-line"></div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>